\subsection{Entities and states}

\paragraph{Sites} There are multiple sites in our system. Each site also have one or more machines. We assume all machines are homogeneous and are capable of processing any patients. In reality, this is not entirely true, but the difference between machines are quite small so we think the difference can be safely ignored. There is also a single waiting room in each site. Patients who have come but haven't began their scans will stay in waiting room. The time they spend in waiting room is one of the two metrics we are concerned. Sites are scheduled according to open time. If there are unfinished patients by end of open time, then the staffs will work overtime. The amount of overtime is another metric in consideration.

\paragraph{Machine} Each machine is located in certain site. Each machine can process one patient at any time, also once a scan is started, it cannot be preempted. For the machine, the status is whether it's currently occupied or not. In addition, if it's occupied, then which patient is under scan and for how long are also tracked in our system.

\paragraph{Appointment} The main way hospital schedule resources allocation is by appointments. Patients usually schedule their appointments about two weeks in advance. At the beginning of the day, we will know the schedule of the day, which will be a list of appointments. Each appointment contains the time, the site and the type of the scan for that appointment. Patient are supposed to go to the site at appointment time. The hospital people can also access various information of the patients like their medical history and the assigned scan protocol by radiologist. Current progress is compared with schedule by practitioners to gauge whether the site is running behind or ahead of the schedule.

Appointments are the central entities in the system. We will track several states of them.
\begin{itemize}
\item Appointment time.
\item Appointment status. This could be "scheduled but patient hasn't shown up", "patient arrived at facility and is waiting", "patient under scan", "scan finished and patient left" or "canceled"
\item Site. This is the site the patient is supposed to go to. We assume patients will go to the site that they're assigned to. If the patient accepts a diversion, then his/her site will change accordingly.
\item Scan type. This is type of scan will be performed on patients. This is determined by the patient's diagnosis need and is decided when the call center schedule for the appointment. Practitioners have working knowledge on estimating duration of scans based on its type. Sometimes, they can have a pretty good estimate on how much congestion may occur based on the schedule and all scan types of that day.
\item Machine used. If patient is under scan, then we will track which machine is used.
\item Arrival time, time when patient finishes preparation before scan, begin time and finish time. We will track progress of appointments. These statistics can help us to figure out what contributes to problems occurred in the system. Whether it's patients arrive too late or scans take too long. In addition, we can make prediction on future based on statistics we collected.
\end{itemize}

\paragraph{Time} Of course, we also need to keep track of current time.

